let dbPromise=idb.open("posts-store",1,t=>{t.objectStoreNames.contains("posts")||t.createObjectStore("posts",{keyPath:"id"}),t.objectStoreNames.contains("sync-posts")||t.createObjectStore("sync-posts",{keyPath:"id"})});function writeData(e,r){return dbPromise.then(t=>{t=t.transaction(e,"readwrite");return t.objectStore(e).put(r),t.complete})}function readAllData(e){return dbPromise.then(t=>t.transaction(e,"readonly").objectStore(e).getAll())}function clearAllData(e){return dbPromise.then(t=>{t=t.transaction(e,"readwrite");return t.objectStore(e).clear(),t.complete})}function clearData(e,r){return dbPromise.then(t=>{t=t.transaction(e,"readwrite");return t.objectStore(e).delete(r),t.complete}).then(()=>console.log("item Deleted"))}function urlBase64ToUint8Array(t){var t=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),e=window.atob(t),r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return r}function arrayBufferToBase64(t){var e=new Uint8Array(t);let r="";for(let t=0;t<e.byteLength;t++)r+=String.fromCharCode(e[t]);return window.btoa(r)}function dataURLtoBlob(t){var e=atob(t.split(",").at(1)),t=t.split(",").at(0).split(":").at(1).split(";").at(0),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return new Blob([r],{type:t})}